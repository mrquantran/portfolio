<!doctype html><html lang=en><head><meta name=viewport content="width=device-width,initial-scale=1"><title>How to integrate umami to your website for free</title>
<meta charset=utf-8><meta name=description content="Ladder@&ndash;"><meta name=author content="Quan, Tran Hong"><link rel=canonical href=https://quan238.github.io/portfolio/project/how-to-integrate-umami-for-free-to-blog-site-copy/><meta name=google-site-verification content="xxx"><link rel=alternate type=application/rss+xml href=https://quan238.github.io/portfolio//index.xml title=quan><script async src="https://www.googletagmanager.com/gtag/js?id=G-xxx"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-xxx")}</script><script async defer data-website-id=xxx src=https://umami-ochre-nu.vercel.app/hugo-ladder.js></script><meta property="og:url" content="https://quan238.github.io/portfolio/project/how-to-integrate-umami-for-free-to-blog-site-copy/"><meta property="og:site_name" content="quan"><meta property="og:title" content="How to integrate umami to your website for free"><meta property="og:description" content="–"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="project"><meta property="article:published_time" content="2021-03-14T21:34:36+08:00"><meta property="article:modified_time" content="2021-03-14T21:34:36+08:00"><meta property="article:tag" content="Hugo"><meta property="article:tag" content="Ladder"><meta property="article:tag" content="Tutorial"><meta property="article:tag" content="Analytics"><meta property="article:tag" content="Umami"><meta property="og:see_also" content="https://quan238.github.io/portfolio/project/how-to-integrate-umami-for-free-to-blog-site/"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to integrate umami to your website for free"><meta name=twitter:description content="&ndash;"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Projects","item":"https://quan238.github.io/portfolio/project/"},{"@type":"ListItem","position":2,"name":"How to integrate umami to your website for free","item":"https://quan238.github.io/portfolio/project/how-to-integrate-umami-for-free-to-blog-site-copy/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to integrate umami to your website for free","name":"How to integrate umami to your website for free","description":"\u0026ndash;\n","keywords":["hugo","ladder","Tutorial","analytics","umami"],"articleBody":"–\nCreate a database The database use postgres with 500M storage limit provided by supabase. You can create a supabase account, click new project, and enter the database passowrd to create an ProgresSQL database service.\nIt will take a few minutes to create the database service, and you can get the DATABASE_URL after it’s done.\nHosting umami The umami service is hosted with vercel, Once you have created the database instance, you can deploy the umami service with click deploy button in the Running on Vercel document.\nFork the https://github.com/mikecao/umami project to your GitHub account.\nCreate an account on Vercel.\nFrom the dashboard page click Import Project then specify the URL to your fork of the project on GitHub.\nAdd the required environment variables to your Vercel project. These values are defined in the Configure umami step from Install.\nDATABASE_URL: Connection string for your database. This is the only required variable. TRACKER_SCRIPT_NAME: Allows you to assign a custom name to the tracker script different from the default umami. This is to help you avoid some ad-blockers. I used hugo-ladder on this project. Enter yarn build \u0026\u0026 yarn update-db to the BUILD COMMAND, which will migrate the tables of umami to database automatically.\nDeploy and visit your application at .vercel.app.\nFollow the Getting started guide starting from the Login step and be sure to change the default password.\nOf course, if you want to import tables yourself, you can also get the tables from here https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql.\numami configuration After deploying umami in vercel you will get a .vercel.app address which login with the default account: admin and password: umami.\nYou can change the default password and Add webiste, enter the Name and Domain, and click enable share URL so that anyone can access the dashboard.\nThen you can get data-website-id and src values by click Get tracking code，enter the value to the hugo-ladder configuration params.analytics.umami.website_id , params.analytics.umami.url.\nIn the end, you can get the website statistics analytics dashboard.🎉🎉🎉\nLink to original article: https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/\n","wordCount":"332","inLanguage":"en","datePublished":"2021-03-14T21:34:36+08:00","dateModified":"2021-03-14T21:34:36+08:00","author":{"@type":"Person","name":"Quan, Tran Hong"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://quan238.github.io/portfolio/project/how-to-integrate-umami-for-free-to-blog-site-copy/"},"publisher":{"@type":"Organization","name":"quan","logo":{"@type":"ImageObject","url":"https://quan238.github.io/portfolio/favicon.ico"}}}</script><link rel=icon href=/portfolio/images/favicon.png sizes=16x16><link rel=apple-touch-icon href=/portfolio/images/favicon.png><link rel=manifest href=/portfolio/images/favicon.png><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.7.0/style.css><link rel=stylesheet href=/portfolio/css/main.min.7cbee7f4c75ed985d9e35776ed3220f2522d0337215727bbde830cf0532a0b46.css integrity="sha256-fL7n9Mde2YXZ41d27TIg8lItAzchVye73oMM8FMqC0Y=" crossorigin=anonymous media=screen><link rel=stylesheet href=/portfolio/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css><script src=/portfolio/js/highlight.min.min.c607d6febd16934a82eb61d3a896ed9d869f54373cc63ce95864ed5488fe3128.js></script><script>hljs.highlightAll()</script><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script></head><body><main class=wrapper><nav class=navigation><section class=container><a class=navigation-brand href=/portfolio>HOME
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><span></span><span></span><span></span></label><ul class=navigation-list id=navigation-list><li class="navigation-item navigation-menu"><a class=navigation-link href=/portfolio/blog>Blog</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/portfolio/project>Project</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/portfolio/tags>Tags</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/portfolio/archives>Archive</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/portfolio/guestbook>Guestbook</a></li><li class="navigation-item navigation-menu"><a class=navigation-link href=/portfolio/about>About</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class="navigation-item navigation-social"><a class=navigation-link href=https://github.com/quan238><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class="navigation-item navigation-dark"><button id=mode type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
<span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></li><li class="navigation-item navigation-dark"><button id=search-button type=button aria-label="toggle user light or dark theme">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></span>
<span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></span></button></li></ul></section></nav><div id=content><article class=blog-single><header class=blog-title><h1>How to integrate umami to your website for free</h1></header><p><small>March 14, 2021&nbsp;· 332 words&nbsp;· 2 min</small>
<small>·
<a href=https://quan238.github.io/portfolio/tags/hugo/>Hugo</a>
<a href=https://quan238.github.io/portfolio/tags/ladder/>Ladder</a>
<a href=https://quan238.github.io/portfolio/tags/tutorial/>Tutorial</a>
<a href=https://quan238.github.io/portfolio/tags/analytics/>Analytics</a>
<a href=https://quan238.github.io/portfolio/tags/umami/>Umami</a></small><p><div class=blog-toc><nav id=TableOfContents><ul><li><a href=#create-a-database>Create a database</a></li><li><a href=#hosting-umami>Hosting umami</a></li><li><a href=#umami-configuration>umami configuration</a></li></ul></nav></div><section class=blog-content><p>&ndash;</p><h2 id=create-a-database>Create a database</h2><p>The database use <a href=https://supabase.com/docs/guides/database>postgres</a> with 500M storage limit provided by <a href=https://app.supabase.com/>supabase</a>. You can create a supabase account, click <code>new project</code>, and enter the database passowrd to create an ProgresSQL database service.</p><p><img alt=cN3Zg4 src=https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/cN3Zg4.png></p><p>It will take a few minutes to create the database service, and you can get the <code>DATABASE_URL</code> after it&rsquo;s done.</p><p><img alt=image-20220815182141638 src=https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/image-20220815182141638.png></p><h2 id=hosting-umami>Hosting umami</h2><p>The <a href=https://umami.is/>umami</a> service is hosted with <a href=https://vercel.com/>vercel</a>, Once you have created the database instance, you can deploy the umami service with click deploy button in the <a href=https://umami.is/docs/running-on-vercel>Running on Vercel</a> document.</p><ol><li><p>Fork the <a href=https://github.com/mikecao/umami>https://github.com/mikecao/umami</a> project to your GitHub account.</p></li><li><p>Create an account on Vercel.</p></li><li><p>From the dashboard page click Import Project then specify the URL to your fork of the project on GitHub.</p></li><li><p>Add the required environment variables to your Vercel project. These values are defined in the Configure umami step from Install.</p><ol><li>DATABASE_URL: Connection string for your database. This is the only required variable.</li><li>TRACKER_SCRIPT_NAME: Allows you to assign a custom name to the tracker script different from the default <code>umami</code>. This is to help you avoid some ad-blockers. I used <code>hugo-ladder</code> on this project.</li></ol></li><li><p>Enter <code>yarn build && yarn update-db</code> to the <code>BUILD COMMAND</code>, which will migrate the tables of umami to database automatically.</p></li><li><p>Deploy and visit your application at .vercel.app.</p></li><li><p>Follow the Getting started guide starting from the Login step and be sure to change the default password.</p></li></ol><p><img alt=gePzXI src=https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/gePzXI.png></p><p>Of course, if you want to import tables yourself, you can also get the tables from here <a href=https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql>https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql</a>.</p><h2 id=umami-configuration>umami configuration</h2><p>After deploying umami in vercel you will get a <code>&lt;deploy-id>.vercel.app</code> address which login with the default account: <em>admin</em> and password: <em>umami</em>.</p><p>You can change the default password and <code>Add webiste</code>, enter the <code>Name</code> and <code>Domain</code>, and click <code>enable share URL</code> so that anyone can access the dashboard.</p><p>Then you can get <code>data-website-id</code> and <code>src</code> values by click <code>Get tracking code</code>，enter the value to the <code>hugo-ladder</code> configuration <code>params.analytics.umami.website_id</code> , <code>params.analytics.umami.url</code>.</p><p><img alt=OZcU7U src=https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/OZcU7U.png></p><p>In the end, you can get the website statistics analytics dashboard.🎉🎉🎉</p><p>Link to original article: <a href=https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/>https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/</a></p></section><div class=related-resources></div><div class=comments><script>const getTheme=window.localStorage&&window.localStorage.getItem("theme");let theme=getTheme==="dark"?"github-dark":"github-light",s=document.createElement("script");s.src="https://utteranc.es/client.js",s.setAttribute("repo","quan238/portfolio"),s.setAttribute("issue-term","pathname"),s.setAttribute("theme",theme),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(s)</script></div></article></div><footer class=footer><p>&copy; 2024 <a href=https://quan238.github.io/portfolio/>quan</a>
Powered by
<a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>
<a href=https://github.com/guangzhengli/hugo-theme-ladder rel=noopener target=_blank>Ladder</a>
️</p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211 22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257m1.0199 2.67608C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257c-3.5504-6.28886-12.88753-4.410077-16.44303.0C2.88063 6.77451-.0433281 11.1668 1.38159 16.6571c.89322 3.4417 3.7911 5.6365 6.81584 6.1154M20.7188 5.04257c1.3509 1.89783 3.3111 6.34223 1.6353 10.37273M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814 11.1703 6.98257 11.0247 6.98456 10.9937 7.05061 10.5221 8.05496 9.07362 9.92941 8 10.945m3.0333-3.50056C10.9392 9.86549 11 15 12 17" stroke="currentcolor" stroke-linecap="round"/></svg>
</a><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script src=/portfolio/js/fuse.min.min.9c77fe122996bc57fcc9465a469d9e5b917054338cc16807bbedb39f36d0a37f.js></script><script src=/portfolio/js/search.min.ae447e970eb58b3fa26b06a8fabecd6d2fa462af0e70dd8cf6298cef271506a7.js></script><script>document.querySelectorAll("pre > code").forEach(e=>{const s=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="Copy";function n(){t.innerHTML="Copied",setTimeout(()=>{t.innerHTML="Copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),n();return}const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(s);try{document.execCommand("copy"),n()}catch{}o.removeRange(s)}),e.parentNode.appendChild(t)})</script></main></body><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".blog-content img"));images.forEach(e=>{mediumZoom(e,{margin:10,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.5)"})})</script><script src=/portfolio/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin=anonymous defer></script></html>